# 4.

에러 핸들링. 최근에 굉장히 많은 관심을 가지고 있는 분야이기도 하다.

# 예외
exception은 솔직히 말해서 간편할 때도 있지만 진짜 이상한 경우가 많다.
특히 서버 개발을 할 때 골때리는 경우가 몇 번 있었다.

1. 긴 함수 중에서 어디에서 발생할지 몰라서 전체를 다 try..catch로 감싸지 않으면 서버가 죽어버리는 경우
2. catch 블럭 안에서 exception이 발생하면 또 서버가 뻗어버림.. 결국 2겹으로 된 try-catch를 쓰게 됨
3. 중간에 exception 발생으로 생각지도 못하게 특정 코드가 실행이 안되는 경우

이러한 이유 때문에 책에 쓰인 대로 try-catch는 조금만 쓰는게 좋은 것 같다.

exception을 쓰면 좋은 경우가 책에 쓰여 있다:
* 에러가 거의 일어나지 않을 때
* 호출한 쪽에서 에러 핸들링을 하고싶지 않을 때: 이 점에 대해서는 zig가 정말 신기하게도 return error의 장점이랑 exception의 장점을 모두 가져갔다. rust만 봐도 그 에러 핸들링이 귀찮게 느껴질 순 있겠지만, 대신에 체크를 안해서 버그가 날 일은 없다.

noexcept도 최적화에 있어 중요한 키워드다. 무슨 문제가 생기면 프로그램이 종료되게 한다.

책에 나온 것처럼 이 세 가지의 에러 핸들링을 적절히 쓰는 것도 굉장히 중요하다고 생각된다.

assert, static_assert 모두 잘 쓰면 미연에 실수를 방지하며 좋은 방법이라고 생각한다.

# 5

연산자 오버로딩 할 때 반드시 인라인하게끔 하고 함수 호출을 따로 안하게 하라는 말이 나오는데, 동감한다. 연산자로 뭔가 복잡한 일을 하려면 차라리 함수의 형태로 쓰는 게 더 명시적이라고 생각한다. 연산자들은 간단한 일을 할 것이라고 예상돼서 그냥 별 생각 없이 쓰게 되기 때문이다. 연산자 오버로딩 때문에 나도 모르게 함수가 호출되는 것은 최적화된 코드를 짜는데 방해된다고 생각한다.:q

