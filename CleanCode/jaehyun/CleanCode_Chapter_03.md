# 3장 함수

### 느낀점

함수가 한 가지 기능만 담당해야 한다는건 많이 들어서 알고 있었지만 이상하게 그렇게 만들기가 쉽지 않았다. 한 가지 기능이라는게 정확이 어떤걸 말하는지 몰랐던것 같다. 추상화 수준을 생각 함으로서 함수가 몇 가지 기능을 하고 있는지 구체적으로 확인해 볼 수 있다는 걸 알았다.

그 외에도 도움되는 내용이 많은 장 이었다. 인수에 관한 내용도 그랬고 어떤 값을 수정하고 성공 여부를 반환하는 함수도 많이 사용했었는데 너무 아무런 고민도 없이 사용하고 있었다는 생각이 든다.

그리고 이번장 마지막에 있던 내용도 인상깊었다. 한 번에 완벽한 글을 쓰고 탈고 하는 사람이 없듯이 코드도 처음 부터 완벽하게 작성할 수 없다. 당연한 말이긴 하지만, 이런 책을 읽고 코드를 짤려고 하면 뭔가 손이 잘 안움직인다… 읽은 내용을 한번에 생각하면서 작성할려고 해서 그런것 같다.

일단 어제 작성한 코드부터 수정해 보면서 하나씩 적용해 봐야 할 것 같다.

---

### **논의 사항**


- 서술적이면서 읽기도 쉬운 이름을 만드는게 개인적으로 참 어렵다고 생각합니다.
결국 영어감각이 중요하겠지만 개인적인 노하우나 참고 하시는 자료가 있는지 궁금합니다.

---

### 내용 요약

프로그래밍의 변화과정에서 함수만 살아남았다. 함수는 프로그램의 가장 기본적인 단위이다.

**작게 만들어라!**  
함수는 작을 수록 좋다. 더 작으면 더 좋다. if, else, while 문 등에 들어가는 블록은 한줄이어야 한다. 중첩구조가 생길만큼 함수가 커져서는 안된다. 들여쓰기 수준이 1단이나 2단을 넘어서는 안된다.
그래야 읽고 이해하기 쉬워진다.

**한 가지만 해라!**  
함수는 한 가지를 해야한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다. 여기서 한 가지란 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다는 것이다. 또한 의미있는 이름으로 다른 함수를 추출 할 수 없을때 한 가지만 하는 함수라고 볼 수 있다.

**함수 당 추상화 수준은 하나로!**  
함수가 확실히 한 가지 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일 해야한다. 추상화 수준이 섞이기 시작하면 코드를 읽는 사람이 헷갈린다.
또한 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다. 위에서 아래로 자연스럽게 읽을때 추상화 수준이 이에 맞게 한단계씩 낮아지는 구조가 읽기 좋다.

**Switch 문**  
switch문은 작게 만들기 어렵다. 또한 근본적으로 한가지 일을 하지 않고 복잡해지기 쉽다. 새 case가 생기면 switch문도 계속 추가되야 한다. 또한 이런 구조를 중복적으로 사용해야 할 수 도 있다. 따라서 추상팩토리를 이용해 switch문을 숨기는 방법이 있다. 하지만 불가피한 경우도 생긴다.

**서술적인 이름을 사용하라!**  
길고 서술적인 이름이 짧고 어려운 이름보다 좋다. 주석보다 좋다. 여러 단어가 쉽게 읽히는 명명법을 사용한다. 여러 단어를 사용해 함수 기능을 잘 표현하는 이름을 선택한다. 이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다.

**함수 인수**  
함수에서 인수는 없으면 좋고 적을 수록 좋다. 3개는 가능한 피하고 4개는 특별한 이유가 있어야한다. 인수는 읽기도, 테스트 케이스 작성도 어렵게 만든다.

- 많이 쓰는 단항 형식
함수에 인수 1개를 넘기는 흔한 경우는 두 가지다. 인수에 질문을 던지는 경우, 인수를 뭔가로 변환해야 하는경우. 드물게 이벤트. 이 경우가 아니면 단항함수는 가급적 피한다.
또한 입력 인수를 변환하는 함수라면 변환 결과는 반환값으로 돌려준다.
- 플래그 인수
플래그 인수는 좋지않다. 함수가 한번에 여러가지 일을 한다고 선언하는 꼴이다. 참 거짓 동작이 다르다면 다른 함수로 만드는게 좋다.
- 이항 함수
이항 함수는 단항 함수보다 이해하기 어렵다. 단, 좌표값 처럼 자연적인 순서와 직관적으로 친숙한 개념이라면 괜찮다. 그렇지 않다면 간능한 단항함수로 표현하는게 좋다.
- 삼항 함수
인수가 3개 이상이 된다면 훨씬더 이해하기 어려워지고 이를 반드시 염두하고 만들어야한다.
- 인수 객체
인수가 2-3개가 된다면 독자적인 클래스 변수로 선언할 가능성을 짚어본다. 묶을수 있는 개념은 묶어서 이름을 잘 명명함으로서 개념을 표현하면 된다.
- 인수목록
- 동사와 키워드
단항 함수는 함수와 인수가 동사/명사 쌍을 이루게 해서 이해를 도울 수 있다. 또한 함수 이름에 인수를 순서대로 배치하는것도 사용에 도움을 준다.

**부수효과를 일으키지 마라!**  
함수 이름에 없는 기능을 추가로 해서는 안된다. 필요하다면 알 수 있게 이름을 변경하자. 다만 한가지 일을 한다는 원칙이 위배된다. 출력 인수도 피하자. 함수 선언부를 찾아보게 만드는 행위는 좋지않다.

**명령과 조회를 분리하라!**  
함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야한다. 둘 다 하면 혼란을 초래한다. 값을 변경하고 성공여부를 반환하는 함수는 이름에 따라 만든 사람은 당연하게 보여도 보는 사람은 그렇지 않을 수 있다.

**오류 코드보다 예외를 사용하라!**  

**반복하지 마라!**  
중복은 소프트웨어 모든 악의 근원이다. 코드도 길어지고 수정할 곳도 늘어나고 오류 발생 확률도 커진다.

**구조적 프로그래밍**  
함수를 작게 만든다면 return, break, continue를 여러 차례 사용해도 괜찮다.

**함수를 어떻게 짜죠?**  
글짓기와 마찬가지로 한 번에 완벽한 글을 쓰고 탈고 하는 사람은 없다. 처음에는 다소 어수선하게 만들어진 글을 계속해서 정리해 나간다. 소프트웨어도 처음에는 서투른 코드를 계속 테스트 해가면서 원칙에 따라 수정해 나감으로서 책에서 설명한 코드를 얻을 수 있다.

**결론**  
함수는 동사. 클래스는 명사.
대가는 프로그래밍 언어로 이야기를 풀어나간다.
함수가 분명하고 정확한 언어로 깔끔하게 작성되야 앞으로 이야기를 풀기 쉬워진다.
