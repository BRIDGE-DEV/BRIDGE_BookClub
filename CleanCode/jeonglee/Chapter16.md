## 16. SerialDate 리팩터링

앞서 모듈을 리팩터링한 것과 비슷하게 오픈소스 라이브러리를 리팩터링하는 과정이다.

내가 모든 프로젝트나 개인 활동을 Public으로 관리하는 이유와 같은 맥락으로 내가 짠 코드를 누군가 보고 피드백을 준다면 엄청난 행운이라고 생각한다.

물론 몇몇 사람들은 코드를 열어보고 그냥 지나치겠지만 만약 인사이트를 얻거나 질문하는 경우 또한 나에게 이점이 크다는 것이다.

더 나아질 수 있는 기회를 private으로 두지 말고 열어두는 것이 현명하다.

책에서 나온 모든 과정을 따라할 수 없기도 하고 실제로 이 리팩터링 과정을 전부 따라가기엔 무리가 있다고 생각이 든다.

따라서 책을 다 읽고 나면 앞 장에서 말한 것과 같이 다른 라이브러리를 리팩터링하면서 공부해볼 생각이다.

책에서 읽고 실천을 해야 뭔가 바뀔 수 있다고 생각하기에..

고민 중인 라이브러리는 다음과 같다.

- <https://github.com/godotengine/godot>

고도 게임엔진인데 제대로된 오픈소스라 하루 하루 달라지는 것을 볼 수 있다.

나도 들어가서 코드를 분석해보고 풀리퀘를 올려서 기여해볼 생각..!

따라서 앞장의 순서와 이번 장의 리팩터링 순서에 집중하자

### 첫째, 둘러보자

먼저 테스트 케이스를 찾아서 리팩터링을 진행해야 한다.

앞서 단위테스트 챕터에서 말했지만 당연하게 테스크케이스를 벗어나는 리팩터링은 말이 안된다.

기능자체를 바꿔버리기에 테스트 케이스를 찾아 올바르게 클린코드로 변경할 수 있다면 실천해라

저자는 해당 라이브러리 자체를 보고 있기에 커버러지 분석 도구까지 사용하여 전략적으로 접근한다.

따라서 테스트 케이스를 분석하면 이 코드를 왜 만들었는지 알 수 있다. (중요!)

### 둘째, 고쳐보자

테스트 케이스를 통해 분석이 끝났다면 이제 고치는 단계이다.

이 단계에서는 리팩터링을 진행하면서 테스트 케이스를 통과시키는 것이 목표이다.

리팩터링 과정은 이 책에서 나온 모든 지식을 활용하여 진행한다.

저자의 과정을 보면 역시 이름에 집중하여 올바른 수준의 이름인지 생각하며 계속 수정해 나간다.

서술적인 표현, 추상화 수준을 위해 팩토리, 오용될 수 있는 변수 변경 등등..

### 느낀점

내가 과연 오픈소스 라이브러리의 코드를 분석하고 리팩터링한다고 도움이 될까?

라는 생각을 해봤는데 도움이 될 것 같다.

물론 일부분이지만 엔진에 대한 이해나 코드의 리팩터링 과정을 이해하는데 도움이 될 것 같다.

#### 논의사항

논의 사항을 적을게 없어서.. 이 장을 읽고 정말 고민인게 단위 테스트 관련 책을 읽을 것인지 리팩터링 2판을 읽을 것인지... 고민이 됩니다

생각하시는 우선순위가 있을까요?
