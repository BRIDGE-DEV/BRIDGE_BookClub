## 8장 경계

시스템에 들어가는 모든 소프트웨어를 직접 개발하는 경우는 드물다.

어떤 식으로든 외부 코드를 우리 코드에 깔끔하게 통합해야 한다.

### 외부 코드 사용하기

인터페이스 제공자와 인터페이스 사용자 사이에는 특유의 긴장이 존재한다.

패키지 제공자나 프레임 제공자는 적용성을 최대한 넓히려 애쓰는 반면, 사용자는 자신의 요구에 집중하는 인터페이스를 바란다.

예제와 같이 만약 유니티에서 몬스터 리스트를 싱글톤으로 구현하여 프로퍼티로 get만 열었다고 해도 다른 사용자는 해당 리스트를 clear할 수 있다.

접근이 가능하다는 것은 해당 API를 호출할 수 있다는 것이기 때문에 위험도는 매우매우 높아진다. (안티패턴)

따라서 이런 문제점을 해결하기 위해 private으로 두고 필요한 기능만 여는 방법이 있다.

### 경계 살피고 익히기

> 바퀴를 다시 만들지 마라

즉, 외부 코드를 사용하면 개발 시간이 많이 단축된다.

외부 패키지는 우리 책임은 아니지만 우리 자신을 위해 코드를 테스트하는 것이 바람직하다.

대개 타사 라이브러리를 사용한다고 하면 문서를 읽으면서 2일정도 사용법을 결정한다.

그 다음 실제로 우리가 원하는 대로 동작하는지 확인한다.

외부 코드는 익히고, 통합하기 어렵다.

두가지를 동시에 하기에도 많이 어렵기 때문에 반대로 생각해 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 간단한 테스트 케이스를 작성해 외부 코드를 익히는 벙법을 `학습 테스트`라 한다.

*처음 라이브러리를 사용할 때 해당 example이나 클론코딩의 과정과 유사하다*

과정 자체가 토이 프로젝트, 샌드박스에 적용해보면서 학습하는 것이 가장가장 좋은 방법이라고 말해준다.

실제로 나도 라이브러리를 사용할 때는 무조건 샌드박스에서 사용할 기능 위주로 다양하게 테스트를 해보고 적용한다.

### 학습 테스트는 공짜 이상이다

학습 테스트에 드는 비용은 없다.

어쨌든 API를 배워야 하므로 오히려 필요한 지식만 확보하는 좋은 방법이다.

학습 테스트는 공짜 이상이다.  

투자하는 노력보다 얻는 성과가 더 크다.

### 아직 존재하지 않는 코드를 사용하기

경계와 관련해 또 다른 유형은 아는 코드와 모르는 코드를 분리하는 경계다.

때로는 우리 지식이 경계를 너머 미치지 못하는 코드 영역도 있다.

때로는 알려고 해도 알 수가 없다.

따라서 아직 존재하지 않는 코드를 사용하기 위해선 인터페이스로 분리하는 것이 좋다.

우리가 바라는 인터페이스를 구현하면 인터페이스를 통해 전적으로 통제한다는 장점이 생긴다.

### 깨끗한 경계

소프트웨어가 설계가 우수하다면 변경하는데 많은 투자와 재작업이 필요하지 않다.

엄청난 시간과 노력와 재작업을 요구하지 않는다.

통제하지 못하는 코드를 사용할 때는 너무 많은 투자를 하거나 향후 변경 비용이 지나치게 커지지 않도록 각별히 주의해야 한다.

경계에 위치하는 코드는 깔끔히 분리한다.

또한 기대치를 정의하는 테스트 케이스도 작성한다.

이쪽 코드에서 외부 패키지를 세세하게 알아야 할 필요가 없다.

통제 불가능한 외부 패키지에 의존하는 대신 통제가 가능한 우리 코드에 의존하는 편이 좋다.

### 느낀점

코드에는 어떤식으로든 경계는 존재하는 것 같다.  

그런 경계와 깊이에 대해 모든 걸 다 알려고 하는 삽질은 너무 큰 비용을 불러온다.  

과거에 삽질을 되게 좋아해서 많이 했던 기억이 있는데 물론 그런 삽질은 새로운 지식을 습득하는 능력을 길러줬다고 생각하지만 지금은 그런 삽질을 하지 않는 것이 좋다고 생각한다.

공부하는 것 이상으로 정보가 쏟아지기 때문에 잘 선별해서 공부해야 한다..!

#### 논의사항

단순한 궁금증인데 사용하기 어려웠던 라이브러리, 패키지가 있나요?

왜 그랬는지 다시한번 생각해본서 이야기 해보면 재밌을 것 같습니다.

저는 스파인을 사용했을 때 되게 어려웠던 기억이 있습니다.

공식문서에 예제와 글이 존재하지만 구글 자체에 정보도 매우 적어서 고생을 했던 기억이 있는데 지금 생각해보면 미련하게 공부했던 것 같습니다.
