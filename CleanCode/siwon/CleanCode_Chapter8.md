# CleanCode_Chapter8

# CHAPTER 8 : 경계

## 내용 정리

---

시스템에 들어가는 모든 소프트웨어를 직접 개발하는 경우는 드물다. 때로는 외부 소스를 사용해서 구현하는데, 이 소프트웨어 경계를 깔끔하게 처리하는 방법을 이 챕터에서 알려준다고 한다.

### 외부 코드 사용하기

인터페이스 패키지 제공자는 적용성을 최대한 넓히려 애쓰지만, 사용자는 자신의 요구에 집중하는 인터페이스를 바라곤 한다.

```java
Map sensors = new HashMap();
Sensor s = (Sensor) sensors.get(sensorId);
```

`Map`은 범용성을 위해 Object를 반환하므로 이를 올바른 유형으로 변환할 책임은 라이브러를 사용하는 클라이언트에게 있다. 위처럼 코드를 짜도 동작은 하지만, 깨끗한 코드라고 보기는 어렵다. 이때 경계에 위치한 클래스를 생성해주면 나아진다.

```java
public class Sensors {
    private Map sensors = new HashMap();

    public Sensor getById(String id) {
        return (Sensor) sensors.get(id);
    }
}
```

경계 인터페이스인 `Map`을 `Sensors` 안으로 숨긴다. 혹여나 `Map` 인터페이스가 변하더라도 나머지 프로그램에는 영향을 미치지 않는다. `Sensors` 클래스 안에서 객체 유형을 관리하고 변환하기 때문이다. 더불어 `Sensors` 클래스는 프로그램에 필요한 인터페이스를 제공해서, 코드를 이해하기는 쉽지만 오용하기는 어렵게 강제한다. 물론 `Map`과 같은 클래스를 사용할 때마다 위와 같이 캡슐화하라는 뜻은 아니다. `Map`과 유사한 경계 인터페이스를 여기저기 넘기지 말아야 하는 것이 핵심이다.

### 경계 살피고 익히기

타사 라이브러리를 가져왔으나 사용법이 분명치 않은 경우가 종종 있다. 외부 코드는 익히기 어렵고, 통합하기도 어렵다. 따라서 그 대신 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히는 방향이 좋다.

## 느낀 점

---

필요할 법한, 있을 법한 예제와 이야기를 계속 들고오니 놀라울 따름입니다. 직접 겪어 보지는 않았지만 공감이 갈 정도네요. 미지의 영역을 보는 저로써는 연신 책에 대한 감탄밖에 할 수 없습니다. 외부 소스를 많이 사용하게 되면 꼭 필요한 부분인 것 같습니다. 

## 논의 내용

---

복잡한 외부 소스를 단순화하고 프로그램에 더 통합된 인터페이스를 제공할 수 있는 방법에는 무엇이 있을까요?