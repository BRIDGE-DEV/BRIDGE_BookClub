# 5장 테스트 주도 개발

## 정리

### 배심원 등장

TDD에 대한 논쟁은 블로그나 기사를 통해 수년간 계속됐으며 현재도 진행 중이다.

중요한 점은 TDD는 잘 돌아간다는 점이고, 이를 받아들여야 한다.

### TDD의 세 가지 법칙

1. 실패한 단위 테스트를 만들기 전에는 제품 코드를 만들지 않는다.
2. 컴파일이 안 되거나 실패한 단위 테스트가 있으면 더 이상의 단위 테스트를 만들지 않는다.
3. 실패한 단위 테스트를 통과하는 이상의 제품 코드는 만들지 않는다.

이 세 가지 법칙을 지키면 반복 주기는 대략 30초 길이를 유지한다.

### 수많은 혜택

**확신**

TDD를 프로다운 규칙으로 받아들이면 테스트를 하루에 십여 개, 일 년에는 수천 개를 만든다.

테스트를 손 닿는 데 두고 코드를 바꿀 때마다 실행한다.

**결함 주입 비율**

TDD를 활용하면 코드 추가 시 새로운 결함을 만드는 비율인 결함 주입 비율이 매우 낮다.

절차가 테스트 통과뿐이지만, 테스트만 통과하면 출시할 수 있다.

**용기**

왜 나쁜 코드를 봐도 고치지 않을까? 손을 대면 뭔가 망가뜨릴지도 모른다는 위험을 무릅써야 하기 때문이다.

하지만 무엇도 망치지 않는다고 확실할 수 있다면? 믿음직한 테스트 묶음이 있으면 변경에 대한 두려움이 모두 사라진다.

> 두렵지 않은 프로그래머는 코드를 바로 정리한다!

*이 장을 읽으면서 TDD도 같이 공부했는데, 긴가민가 하던 중 이 문단을 통해 ‘확실히 잘 사용한다면 효율이 높아지겠구나’ 라는 생각을 했다.*

**문서화**

단위 테스트는 문서다. 시스템의 가장 낮은 단계의 설계를 알려준다.

낮은 단계의 문서 중 가장 훌륭한 형태다.

**설계**

다른 함수를 호출하는 함수는 테스트하기 어려운 경우가 많다. 테스트를 만들려면 함수를 다른 부분에서 떨어뜨리는 방법을 찾아야 한다.

테스트를 먼저 만들기 위해서는 좋은 설계를 고민해야 한다.

따라서 세 가지 법칙에 따라 테스트를 먼저 만드는 일은 의존성이 낮은 좋은 설계를 만드는 힘이 된다.

### 프로다운 선택

TDD는 프로다운 선택이다.

### TDD와 관련 없는 사실

TDD는 수많은 장점이 있지만 종교나 마법이 아니다.

프로 개발자라면 좋은 점보다 해로운 점이 많을 때는 규칙을 따라서는 안 된다.

---

## 느낀 점

TDD를 들어는 봤지만, 구체적인 방법에 대해서는 이번에 새로 공부했다. 읽으면서 점차 ‘오.. 확실히 일리가 있는데? 해보고 싶다’ 라는 생각은 들었다. 하지만 이를 게임 프로그래밍을 할 때에 어떤 방식으로 활용해야 할지..에 대해서는 아직 감을 못 잡은 것 같다. 내가 아직 제대로 된 이해를 못한 거겠지 ㅠ0ㅠ

---

## 논의사항

- 게임 개발에서의 TDD는 다른 개발 분야와는 다르다고 생각이 되는데, 다른 분들의 생각이 궁금합니다!

아무래도 직접 테스트해봐야 아는 영역도 분명 존재한다고 생각을 합니다. TDD를 공부하고나서 머리를 막 굴려봤는데 ‘게임 개발에서 모든 코드에 대해 유의미한 테스트 코드가 존재할 수 있을까…?’ 라는 생각이 들었네요.