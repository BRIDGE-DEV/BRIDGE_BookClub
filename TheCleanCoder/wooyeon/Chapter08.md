# The Clean Coder

## 8장. 테스트 전략

> 프로 개발자는 작성한 코드를 테스트한다.

> 프로 개발팀이라면 훌륭한 테스트 전략이 필요하다.

### QA는 오류를 찾지 못해야 한다

> 개발팀은 QA가 잘못된 점을 찾지 못하는 상태를 목표로 삼아야 한다.

> QA가 뭔가를 발견할 때마다 개발팀은 간담이 서늘해져야 정상이다.

*책 초반에도 언급되었던 내용. 그 때도 비슷한 말을 썼겠지만 QA 과정을 거친 후에 발견된 버그를 고치면 된다는, 버그는 당연하다는 나의 마인드는 정말 바보 같았다!*

### QA는 같은 팀이다

> QA와 개발자는 시스템 품질 향상을 위해 힘을 합쳐야 한다.

QA의 가장 중요한 역할은 명세 서술과 특징 묘사다.

**명세 서술**

사업부와 함께 자동화된 인수 테스트-시스템에 대한 진정한 명세서이자 요구사항 문서-를 만드는 일

**특징 묘사**

탐색 테스트를 수행해 작동 주인 시스템의 실제 동작을 묘사하고 이 동작을 개발팀과 사업부에 보고하는 일

*딱 내가 기존에 알고 있던 범위*

### 테스트 자동화 피라미드

> QA가 오류를 찾지 못하리라는 확신을 가지려면 상위 계층 테스트 또한 필요하다.

Unit tests -> Component tests -> Integration tests -> System tests -> Explory Tests
(점점 높아짐)

### 단위 테스트

피라미드의 가장 아래 계층은 단위테스트-프로그래머에 의해/위해 시스템 프로그래밍 언어로 만든 테스트-다.

*내가 이제 시작한 것!*

> 단위 테스트의 커버리지는 최대한 100%에 가까워야 한다.

### 컴포넌트 테스트

인수 테스트의 일종

컴포넌트 테스트는 컴포넌트를 감싸고 있다. 컴포넌트에 넣은 입력 데이터에 대해 출력 값이 올바른지 테스트한다.

컴포넌트 테스트는 시스템의 절반 정도를 감당

대부분 행복한 경로 + 명백한 경우의 대체 경로 (불행한 경로는 대부분 단위 테스트에서 처리)

### 통합 테스트

통합 테스트는 여러 컴포넌트로 이뤄진 큰 시스템에서만 의미가 있다. 컴포넌트 묶음을 모아 묶음끼리 제대로 상호작용하는지 테스트한다.

시스테 구조가 튼튼하다는 사실을 보장

실행에 시간이 많이 들기 때문에 CI ㄴㄴ 필요할 때마다 테스트를 돌린다

### 시스템 테스트

시스템 테스트는 통합한 시스템 전체를 대상으로 하는 자동화 테스트다.

시스템이 올바르게 연결됐고 각 부분이 계획에 따라 상호작용하는지 테스트

성능/처리량 테스트

시스템을 올바르게 빌드했는지를 확실히 하려는 목적

### 수동 탐색 테스트

수동 탐색 테스트는 키보드에 손을 얹고 모니터를 직접 보며 하는 테스트다.

이 테스트의 목적은 시스템이 기대한 대로 동작하는지 확인하는 동시에 예상치 못한 오류를 찾아내는 것이다. 

사용자의 조작에 시스템이 잘 동작하는지 확인하고 가능한 많은 '특이사항'을 창의적으로 발견해내는 일이 목표다.

### 결론

개발팀과 QA가 손을 잡고 테스트 자동화 피라미드를 만들어야 한다.

테스트를 가능한 자주 실행해 최대한 많은 피드백을 얻고 시스템이 무결점 상태를 유지하는지 확인해야 한다.

### 느낀 점

최근에 테스트 코드에 대해 궁금했는데 꽤 유익한 장이었다!!!

### 논의사항

- 자신이 만든 게임을 테스트할 때 어떤 방법들을 사용해보셨나요?

저는 '테스트 코드'를 알게된 것이 꽤나 최근인데, 어떤 항목을 테스트할지 표로 작성하고 테스트한 적도, 직접 가능한 모든 루트를 테스트한 적도, 여러 사람에게 무작정 테스트를 맡긴 적도 있습니다. 

물론 다른 사람의 손에서 희한한 버그를 많이 들었는데 개발자인 제 의도와 달리 플레이하는 과정에서 발생했기 때문이었습니다..

이번 프로젝트는 단위 테스트 + 수동 탐색 테스트를 병행할 것 같습니다.

단위 테스트의 효과를 볼 것이 기대됩니다!