# Chapter07

---

# 올바로 주고받는 코드 리뷰

고품질 코드 리뷰 문화를 갖추는 것은 엔지니어 수준과 관계없이 모두가 함께 성장하며 코드베이스에 대한 이해를 서로 공유하는 데 도움이 된다. 반면 잘못된 코드 리뷰 문화는 혁신을 방해하고 개발 속도를 늦추며 사적인 감정 소모만 쌓이게 된다.

### 코드 리뷰는 왜 필요한가?

- 팀의 교육 및 학습 도구처럼 동작한다.
- 코드 베이스에 대한 이해를 공유한다.
- 구현 결정 사항을 문서화한다.
- 보안 및 규정 준수와 관련해 변경 기록을 제공한다.

### 코드 리뷰 절차

코드 변경 → 커밋 → 풀 리퀘스트 → 코드 리뷰 → 추가 변경→ 최종 승인 → 코드 베이스에 머지

### 코드 리뷰를 받을 때 준비 사항

- 개별 코드 변경을 작게 유지하기 → 커밋을 쪼개기
- 기능과 리팩터링 작업은 서로 다른 리뷰로 분리
- 커밋 메시지는 내용이 잘 설명되도록 작성하기 (주석, 테스트 포함 시키면 좋음)
- 리뷰를 거치는 동안 얼마든지 코드가 수정될 수도 있다는 점 유의.
- 제목과 설명을 작성하고 리뷰어를 추가한 다음, 수정한 코드가 해결하고자 하는 이슈에 대한 링크를 추가.
- 리뷰 요청의 제목과 설명에는 변경사항의 테스트 방법, 다른 자료에 대한 링크, 구현 상세에 대한 도움 요청이나 질문 등 추가적인 배경 설명이 포함되어야 한다.
- 표준 규칙에 의해 이슈를  참조하면 자동으로 이슈 트래커와 코드 리뷰(풀리퀘)를 연결할 수 있다.

### 리뷰 초안이 있으면 위험을 낮출 수 있다.

- 리뷰 초안을 제출해서 지금 하고 있는 일의 방향이 맞는지 확인할 수 있다.
- 리뷰 초안이란 팀원으로부터 신속하게 피드백을 얻을 목적으로 요청하는 비공식 리뷰로서, 이를 잘 이용하면 엉뚱한 방향으로 업무를 진행할 위험이 줄어든다.
- 리뷰 초안을 준비할 때는 코드 리뷰 요청이 아직 초안이거나 변경 사항이 아직 작업 중이라는 표시를 해야 혼란이 없다.

### 테스트 실행을 위한 리뷰 제출은 금물이다.

테스트 실행할 목적으로 코드 리뷰를 제출하는 것은 낭비다. 테스트 큐가 가득 차서 정작 머지 전에 테스트를 실행해야 하는 다른 리뷰를 방해하기도 한다.

### 코드 변경 사항이 많을 때는 좀 더 면밀하게.

변경한 코드가 많으면 다른 사람에게 설명하는 시간을 갖자. 즉 개발자가 화면을 공유하고 팀원들을 대상으로 어떤 코드를 왜 변경했는지 설명하는 회의를 여는 것이다.

회의 중에 팀원이 실제로 코드를 리뷰하게 해서는 안 된다. ~~참석자는 하고 싶은 말이 있어도 꾹 참고~~, 코드 리뷰 시에 댓글로 남겨야 한다. 회의를 여는 목적은 왜 여러분이 이런 식으로 변경했는지를 팀 전체가 이해하며 나중에 각자 코드를 리뷰할 때 도움이 될 멘탈 모델을 제시하는 것이어야 한다.

### 자신의 코드에 너무 집착하지 말자.

### 공감력을 갖되 무례함은 참지 말자.

### 주도적으로 행동하자.

### 코드 리뷰를 제대로 해주는 방법

- 리뷰 요청을 중요도가 높은 순으로 선별하자.
- 리뷰를 위한 시간을 따로 마련하자.
- 코드 변경사항을 이해하자.
- 포괄적인 피드백을 제시하자.
- 좋은 점은 인정하자.
- 이슈, 제안, 사소한 흠결은 잘 구분하자.
- 대충대충 리뷰는 금물.
- 웹 기반 리뷰 도구에만 의존하지는 말자.
- 테스트 리뷰도 잊지말자.
- 어떻게든 결론을 맺어야 한다. 
→ 코드 변경에 대해 리뷰어와 원저자 사이의 의견이 좁혀지지 않으면 도움을 줄 수 있는 다른 전문가에게 도움을 청할 것을 적극적으로 제안하자.

# 논의사항

---

각자 코드 리뷰를 해본 경험이 있으시다면, 방식도 제각각일 것 같은데요. 여러분의 코드 리뷰 방식이 궁금합니다 ㅋㅋㅋㅋ + 화법도