# Chapter 06 기본적인 리팩터링

생성일: 2023년 8월 17일 오후 6:37

1. 함수 추출하기
    1. 코드 조각을 찾아 무슨 일을 하는지 파악한 다음, 독립된 함수로 추출하고 목적에 맞는 이름을 붙인다.
    2. 독립적 함수로 묶는 기준: ‘목적과 구현’을 분리하는 방식이 가장 합리적
    3. 최적화를 할 때의 규칙: 첫 번째, 하지 마라. 두 번째(전문가 한정), 아직 하지 마라
    4. 함수의 이름을 붙일 때는 목적을 잘 드러내도록 짓는다. ‘어떻게’가 아닌 ‘무엇을’ 하는지가 드러나야 한다.
2. 함수 인라인하기
    1. 때로는 함수 본문이 이름만큼 명확한 경우
    2. 위임 관계가 복잡하게 얽혀 있는 경우
3. 변수 추출하기
    1. 객체는 특정 로직과 데이터를 외부와 공유하려 할 때 공유할 정보를 설명해주는 적당한 크기의 문맥이 되어준다.
    2. 큰 클래스에서 공통 동작을 별도 이름으로 뽑아내서 추상화해두면 그 객체를 다룰 때 쉽게 활용할 수 있어서 매우 유용하다.
4. 변수 인라인하기
    1. 그 이름이 원래 표현식과 다를 바 없을 때는 인라인하는 것이 좋다.
5. 함수 선언 바꾸기
    1. 이름이 좋으면 함수의 구현 코드를 살펴볼 필요 없이 호출문만 보고도 무슨 일을 하는지 파악할 수 있다.
    2. 주석을 이용해 함수의 목적을 설명하다보면 주석이 멋진 이름으로 바뀌어 되돌아올 때가 있다.
6. 변수 캡슐화하기
    1. public 필드를 발견할 때마다 캡슐화해서 가시 범위를 제한하는 것이 좋다.
    2. 필자는 게터 이름 앞에 get을 붙이는 것을 선호하지 않는다.
    3. 필드 값을 변경하는 일을 제어하고 싶다면 게터가 데이터의 복제본을 반환하도록 수정한다.
7. 변수 이름 바꾸기
    1. 이름의 중요성은 사용 범위에 영향을 받는다. 
    2. 한 줄짜리 람다식에서 사용하는 변수나 간단한 함수의 매개변수 이름은 짧게 지어도 된다.
    3. 하지만 함수 호출 한 번으로 끝나지 않고 값이 영속되는 필드라면 이름에 더 신경 써야 한다.
    4. 기존 이름을 삭제했다가 테스트에 실패하면 되돌리는 방식보다 새 이름으로 선언한 다음 기존 이름에 복사하는 방식이 더 쉬울 수 있다.
8. 매개변수 객체 만들기
    1. 데이터 뭉치를 데이터 구조로 묶으면 데이터 사이의 관계가 명확해진다.
    2. 새로 만든 데이터 구조가 문제 영역을 훨씬 간결하게 표현하는 새로운 추상 개념으로 격상되면서, 코드의 개념적인 그림을 다시 그릴 수 있다.
9. 여러 함수를 클래스로 묶기
    1. 공통 데이터를 중심으로 긴밀하게 엮어 작동하는 함수 무리를 발견하면 클래스 하나로 묶는 것이 좋다.
10. 여러 함수를 변환 함수로 묶기
    1. 변환 함수는 원본 데이터를 입력받아서 필요한 정보를 모두 도출한 뒤, 각각을 출력 데이터의 필드에 넣어 반환한다. 이렇게 해두면 도출 과정을 검토할 일이 생겼을 때 변환 함수만 살펴보면 된다.
    2. 원본 데이터가 코드 안에서 갱신되는 경우: 클래스로 묶기
11. 단계 쪼개기
    1. 다른 단계로 볼 수 있는 코드 영역들이 마침 서로 다른 데이터와 함수를 사용하는 경우
    2. 코드 영역들을 별도 모듈로 분리하면 그 차이를 코드에서 훨씬 분명하게 드러낼 수 있다.

### 논의사항

리팩터링 했다가 오류가 생겨서 되돌린 적 있으신가요?