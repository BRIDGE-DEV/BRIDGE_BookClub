# 챕터2: 생성자, 소멸자 및 대입 연산자

## 항목 10: 대입 연산자는 *this의 참조자를 반환하게 하자

C++의 대입 연산은 여러 개가 사슬처럼 엮일 수 있는 재미있는 성질을 갖고 있다. 또한 이 연산의 재미있는 점은 **우측 연관** 연산이라는 점이다. 즉,

```cpp
int x, y, z;
x = y = z = 15;
```

이 대입 연산은,

```cpp
x = (y = (z = 15));
```

이런 연산처럼 돌아가고 있다는 것이다.

이렇게 대입 연산이 사슬처럼 엮이려면 대입 연산자가 좌변 인자에 대한 참조자를 반환하도록 구현되어 있을 것이다. 이런 구현은 일종의 관례이므로, 지키는 것이 좋다.

```cpp
class Widget {
public:
	...
	Widget& operator=(const Widget& rhs)
	{
		...
		return *this; // 좌변 객체(참조자) 반환
	}
	...
};
```

이 규약은 단순 대입형 연산자 말고도 +=, -=, *= 등의 모든 형태의 대입 연산자에서 지켜져야 한다. 또한 대입 연산자의 매개변수 타입이 일반적이지 않은 경우에도 동일한 규약을 적용해야 한다.

이 관례를 따르지 않는다고 해도 컴파일이 안 된다거나 하지는 않는다. 하지만 이 관례는 모든 기본제공 타입들, 표준 라이브러리에 속한 타입들에서도 따르고 있다는 점을 기억하자.

> 대입 연산자는 *this의 참조자를 반환하도록 만들자.